// Zoomer v. 1.3
!function(t,i,s){var e=Date.now||function(){return(new Date).getTime()};function a(t){this.params=t,this.canvas=i.getElementById(this.params.canvas),this.ctx=this.canvas.getContext("2d"),this.image=new Image,this.CANVAS_BASE_X=this.CANVAS_BASE_Y=0,this.easing=t.easing||function(t,s,i,a){return(t/=a/2)<1?i/2*t*t+s:-i/2*(--t*(t-2)-1)+s},this.currentStep=1,this.canvas.setAttribute("width",this.params.format.width),this.canvas.setAttribute("height",this.params.format.height);var s=i.getElementById(this.params.img);s.style.opacity=0,this.image.src=s.src,this.reset()}var h=a.prototype;h.reset=function(){this.ctx.clearRect(0,0,this.params.format.width,this.params.format.height),this.ctx.drawImage(this.image,this.params.steps[0].x,this.params.steps[0].y,this.params.steps[0].width,this.params.steps[0].height,this.CANVAS_BASE_X,this.CANVAS_BASE_Y,this.params.format.width,this.params.format.height),this.clock=0},h.start=function(){this.startTime=e(),this.animate()},h.animate=function(){this.startTime||(this.startTime=e()),this.clock=e()-this.startTime,this.ctx.clearRect(0,0,this.params.format.width,this.params.format.height);var t=this.easing(this.clock,this.params.steps[this.currentStep-1].width,this.params.steps[this.currentStep].width-this.params.steps[this.currentStep-1].width,this.params.steps[this.currentStep].duration),s=this.easing(this.clock,this.params.steps[this.currentStep-1].height,this.params.steps[this.currentStep].height-this.params.steps[this.currentStep-1].height,this.params.steps[this.currentStep].duration),i=this.easing(this.clock,this.params.steps[this.currentStep-1].x,this.params.steps[this.currentStep].x-this.params.steps[this.currentStep-1].x,this.params.steps[this.currentStep].duration),a=this.easing(this.clock,this.params.steps[this.currentStep-1].y,this.params.steps[this.currentStep].y-this.params.steps[this.currentStep-1].y,this.params.steps[this.currentStep].duration);this.ctx.drawImage(this.image,i,a,t,s,this.CANVAS_BASE_X,this.CANVAS_BASE_Y,this.params.format.width,this.params.format.height),this.clock<this.params.steps[this.currentStep].duration?requestAnimationFrame(this.animate.bind(this)):this.currentStep<this.params.steps.length-1&&(this.currentStep++,this.clock=0,this.start())},t.Zoom=a}(window,document);